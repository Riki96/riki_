<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.16/p5.js"></script>
	<!-- <script src="birds_antartica.json"></script> -->
	<script src="Particella.js"></script>
	<style type="text/css">
		.wrap{
			visibility: hidden;
			white-space: nowrap;
		}
	</style>

</head>
<body>
<span class="wrap" id="name"></span>
<script type="text/javascript">
	let space;
	let s = document.getElementById('name');
	let x=0;
	let y=0;
	let ps = [];
	function setup(){
		createCanvas(500,300);
		// ps.push(new Particle());
		loadJSON('http://api.open-notify.org/astros.json',process);
	}
	function process(data){
		space = data;
		for(let p of space.people){
			ps.push(new Particle());
		}
	}
	
	function draw(){
		background(0);
		fill(255);	
		for(let i=0;i<ps.length;i++){
			ps[i].size(2*space.people[i].name.length);
			ps[i].show();
			ps[i].move();
			ps[i].barrier(width,height);
			text(space.people[i].name,ps[i].x+15,ps[i].y);
		}

		// background(0);
		// fill(255);
		// stroke(255);
		// line(x,0,x,height);
		// line(0,y,width,y);
		// y++;
		// x++;
		// if(x>width) x=0;
		// if(y>height) y=0;
		// if(space){	
		// 	for(let i=0;i<space.number;i++){
		// 			stroke(0);
		// 			text(space.people[i].name,i*15+10,i*15+10);
		// 			s.innerHTML = space.people[i].name;
		// 			ellipse(s.offsetWidth+i*15+10,i*15+5,5,5);
		// 			s.innerHTML=0;
		// 		}
		// }
	}
</script>

</body>
</html>